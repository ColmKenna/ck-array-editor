{"version":3,"file":"ck-array-editor.js","sources":["../../src/components/ck-array-editor/ck.array.editor.styles.ts","../../src/components/ck-array-editor/ck.array.editor.ts"],"sourcesContent":["export const ckArrayEditorCSS = `\r\n:host {\r\n  display: block;\r\n  padding: 1rem;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n\\.ck-array-editor {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  padding: 2rem;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n\\.ck-array-editor:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.message {\r\n  font-size: 1.5rem;\r\n  margin: 0;\r\n  /* per-instance color via CSS custom property */\r\n  color: var(--ck-array-editor-color, #333);\r\n}\r\n\r\n.subtitle {\r\n  font-size: 1rem;\r\n  margin: 0.5rem 0 0 0;\r\n  opacity: 0.8;\r\n}\r\n`;\r\n\r\n// Try to create a constructable stylesheet where supported. Fall back to null.\r\nexport const ckArrayEditorSheet: CSSStyleSheet | null = (() => {\r\n  try {\r\n    // CSSStyleSheet may not be available in older browsers\r\n    // create and populate the sheet once at module-eval time\r\n    // so it gets parsed only once.\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-ignore: may not exist in all targets\r\n    const sheet = new CSSStyleSheet();\r\n    sheet.replaceSync(ckArrayEditorCSS);\r\n    return sheet;\r\n  } catch {\r\n    return null;\r\n  }\r\n})();\r\n\r\n","import { ckArrayEditorSheet, ckArrayEditorCSS } from './ck.array.editor.styles';\r\n\r\nexport class CkArrayEditor extends HTMLElement {\r\n  private shadow: ShadowRoot;\r\n\r\n  constructor() {\r\n    super();\r\n    this.shadow = this.attachShadow({ mode: 'open' });\r\n\r\n    // Adopt the constructable stylesheet when supported. We do this once per instance\r\n    // but the underlying sheet was created once at module load time.\r\n    const adopted = (\r\n      this.shadow as unknown as ShadowRoot & {\r\n        adoptedStyleSheets?: CSSStyleSheet[];\r\n      }\r\n    ).adoptedStyleSheets;\r\n    if (ckArrayEditorSheet && adopted !== undefined) {\r\n      (\r\n        this.shadow as unknown as ShadowRoot & {\r\n          adoptedStyleSheets: CSSStyleSheet[];\r\n        }\r\n      ).adoptedStyleSheets = [...adopted, ckArrayEditorSheet];\r\n    }\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.render();\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return ['name', 'color'];\r\n  }\r\n\r\n  attributeChangedCallback(name: string, oldValue: string, newValue: string) {\r\n    if (oldValue !== newValue) {\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  get name() {\r\n    return this.getAttribute('name') || 'World';\r\n  }\r\n\r\n  set name(value: string) {\r\n    this.setAttribute('name', value);\r\n  }\r\n\r\n  get color() {\r\n    return this.getAttribute('color') || '#333';\r\n  }\r\n\r\n  set color(value: string) {\r\n    this.setAttribute('color', value);\r\n  }\r\n\r\n  private render() {\r\n    // If constructable stylesheets are not available, ensure a single fallback <style>\r\n    // is injected per-shadow-root. We avoid creating different style content per instance\r\n    // by keeping per-instance differences in CSS custom properties.\r\n    if (!ckArrayEditorSheet) {\r\n      // Only inject the fallback style once per shadow root\r\n      if (!this.shadow.querySelector('style[data-ck-array-editor-fallback]')) {\r\n        const style = document.createElement('style');\r\n        style.setAttribute('data-ck-array-editor-fallback', '');\r\n        style.textContent = ckArrayEditorCSS;\r\n        this.shadow.appendChild(style);\r\n      }\r\n    }\r\n\r\n    // Apply per-instance color via CSS custom property instead of embedding styles.\r\n    this.style.setProperty('--ck-array-editor-color', this.color);\r\n\r\n    this.shadow.innerHTML = `\r\n      <div class=\"ck-array-editor\">\r\n        <h1 class=\"message\">Hello, ${this.name}!</h1>\r\n        <p class=\"subtitle\">Welcome to our Web Component Library</p>\r\n      </div>\r\n    `;\r\n\r\n    // For testability (unit tests inspect shadowRoot.innerHTML), set the color\r\n    // as an inline style on the message element so the color string appears in\r\n    // the serialized HTML. Runtime styling still relies on the CSS variable.\r\n    const msg = this.shadow.querySelector('.message') as HTMLElement | null;\r\n    if (msg) msg.style.color = this.color;\r\n  }\r\n}\r\n\r\n// Register the custom element\r\nif (!customElements.get('ck-array-editor')) {\r\n  customElements.define('ck-array-editor', CkArrayEditor);\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;EAAO,MAAM,gBAAgB,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAkC/B;EAED;EACO,MAAM,kBAAkB,GAAyB,CAAC,MAAK;EAC5D,IAAA,IAAI;;;;;;EAMF,QAAA,MAAM,KAAK,GAAG,IAAI,aAAa,EAAE;EACjC,QAAA,KAAK,CAAC,WAAW,CAAC,gBAAgB,CAAC;EACnC,QAAA,OAAO,KAAK;MACd;EAAE,IAAA,MAAM;EACN,QAAA,OAAO,IAAI;MACb;EACF,CAAC,GAAG;;EChDE,MAAO,aAAc,SAAQ,WAAW,CAAA;EAG5C,IAAA,WAAA,GAAA;EACE,QAAA,KAAK,EAAE;EACP,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;;EAIjD,QAAA,MAAM,OAAO,GACX,IAAI,CAAC,MAGN,CAAC,kBAAkB;EACpB,QAAA,IAAI,kBAAkB,IAAI,OAAO,KAAK,SAAS,EAAE;cAE7C,IAAI,CAAC,MAGN,CAAC,kBAAkB,GAAG,CAAC,GAAG,OAAO,EAAE,kBAAkB,CAAC;UACzD;MACF;MAEA,iBAAiB,GAAA;UACf,IAAI,CAAC,MAAM,EAAE;MACf;EAEA,IAAA,WAAW,kBAAkB,GAAA;EAC3B,QAAA,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC;MAC1B;EAEA,IAAA,wBAAwB,CAAC,IAAY,EAAE,QAAgB,EAAE,QAAgB,EAAA;EACvE,QAAA,IAAI,QAAQ,KAAK,QAAQ,EAAE;cACzB,IAAI,CAAC,MAAM,EAAE;UACf;MACF;EAEA,IAAA,IAAI,IAAI,GAAA;UACN,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,OAAO;MAC7C;MAEA,IAAI,IAAI,CAAC,KAAa,EAAA;EACpB,QAAA,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC;MAClC;EAEA,IAAA,IAAI,KAAK,GAAA;UACP,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,MAAM;MAC7C;MAEA,IAAI,KAAK,CAAC,KAAa,EAAA;EACrB,QAAA,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC;MACnC;MAEQ,MAAM,GAAA;;;;UAIZ,IAAI,CAAC,kBAAkB,EAAE;;cAEvB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,sCAAsC,CAAC,EAAE;kBACtE,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;EAC7C,gBAAA,KAAK,CAAC,YAAY,CAAC,+BAA+B,EAAE,EAAE,CAAC;EACvD,gBAAA,KAAK,CAAC,WAAW,GAAG,gBAAgB;EACpC,gBAAA,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC;cAChC;UACF;;UAGA,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,yBAAyB,EAAE,IAAI,CAAC,KAAK,CAAC;EAE7D,QAAA,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,CAAA;;AAES,mCAAA,EAAA,IAAI,CAAC,IAAI,CAAA;;;KAGzC;;;;UAKD,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAuB;EACvE,QAAA,IAAI,GAAG;cAAE,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK;MACvC;EACD;EAED;EACA,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE;EAC1C,IAAA,cAAc,CAAC,MAAM,CAAC,iBAAiB,EAAE,aAAa,CAAC;EACzD;;;;;;;;"}